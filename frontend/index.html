<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>Test</title>
</head>

<body>
    <div>
        <p>Test2 </p>
        <div id="test-button"></div>
    </div>
</body>
<script src="./paimaMiddleware.js"></script>
<script>

    async function start() {
        console.log("Start");
        const wallet = await endpoints.userWalletLogin('metamask');
        if (!wallet.success) throw new Error('Wallet Error');



        // const user = await endpoints.getUserStats(wallet.result.walletAddress);
        // console.log(user)
        // if (!user.success) {
        //     throw new Error('User Error');
        // }
        // user.lol = "test lol";
        // console.log(user.lol)
        // if (!user.stats) {
        //     console.log(user.stats)
        // }

        const loginDiv = document.getElementById("test-button");
        let login = document.createElement("click-button");
        // login.style = 'width:50px; margin: 4px;'
        login.innerHTML = "Test click";
        login.onclick = () => {
            endpoints.submitGuess(
                wallet.result.walletAddress,
                "A",
                "01"
            ).then(r => console.log("SubmitGuess", r));
        }
        loginDiv.appendChild(login);
    }
    start().then(r => r);

</script>

</html>